#!/bin/bash
# Проверяем, что передано ровно 2 аргумента
if [ $# -ne 2 ]; then
  # Выводим сообщение об использовании скрипта и завершаем его с кодом 1
  echo "Использование: $0 <строка_для_поиска> <путь_к_директории>"
  exit 1
fi
# Сохраняем переданные аргументы в переменные
search_string="$1"
directory="$2"
# Проверяем, что указанная директория существует
if [ ! -d "$directory" ]; then
  # Выводим сообщение об ошибке и завершаем скрипт с кодом 1
  echo "Директория '$directory' не существует."
  exit 1
fi
# Указываем имя выходного файла
output_file="found.txt"
# Очищаем выходной файл перед записью в него
> "$output_file"
# Перебираем все файлы с расширением .txt в указанной директории
for file in "$directory"/*.txt; do
  # Проверяем, что указанная строка содержится в файле
  if grep -q "$search_string" "$file"; then
    # Записываем имя файла в выходной файл
    echo "$file" >> "$output_file"
  fi
done